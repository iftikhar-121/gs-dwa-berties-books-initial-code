<!doctype html>
<html>
  <head>
    <title>Search <%=shopData.shopName%></title>
    <link rel="stylesheet"  type="text/css" href="/main.css" />
  </head>
  <body>
    <h1>Search <%=shopData.shopName%></h1>
    <form action="/books/search-result" method="GET">
      <p>What book do you want?</p>
      <input id="search-box" type="text" name="keyword" value="<%= typeof keyword !== 'undefined' ? keyword : '' %>">
      <label style="margin-left:8px;">
        <input type="checkbox" name="exact" value="1" <%= exact ? 'checked' : '' %> /> Exact match
      </label>
      <input type="submit" value="Search">
    </form>

    <% if (typeof availableBooks !== 'undefined' && availableBooks) { %>
      <h2>Results<% if (keyword) { %> for '<%= keyword %>'<% } %>:</h2>
      <ul>
        <% if (availableBooks.length) { %>
          <% availableBooks.forEach(function(book){ %>
            <li><%= book.name %>, Â£<%= Number(book.price).toFixed(2) %></li>
          <% }) %>
        <% } else { %>
          <li>No books found.</li>
        <% } %>
      </ul>
    <% } %>
  </body>
  </html>